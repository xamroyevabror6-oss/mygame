<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÆ Cheksiz Variantli O‚Äòyin</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    body {
        font-family: 'Press Start 2P', cursive;
        text-align: center;
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        color: white;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin: 0;
        padding: 10px;
        transition: background 0.5s;
    }

    h1 {
        font-size: 26px;
        margin-bottom: 20px;
        color: #00ff99;
        text-shadow: 2px 2px 8px black;
    }

    button {
        padding: 15px;
        margin: 10px;
        font-size: 16px;
        border-radius: 15px;
        border: none;
        width: 80%;
        max-width: 300px;
        cursor: pointer;
        background: #00ff99;
        color: #111;
        font-weight: bold;
        transition: all 0.3s ease;
    }

    button:hover {
        background: #00cc7a;
        transform: scale(1.05);
        box-shadow: 0 0 15px #00ff99;
    }

    #result, #info, #stats {
        margin-top: 20px;
        font-size: 18px;
        font-weight: bold;
        text-shadow: 1px 1px 5px black;
    }

    #author {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0,255,153,0.8);
        color: #111;
        padding: 10px 15px;
        border-radius: 12px;
        font-weight: bold;
        font-size: 16px;
        z-index: 9999;
        box-shadow: 2px 2px 8px black;
    }

    #endBtn {
        position: fixed;
        top: 10px;
        left: 10px;
        background: #ffdd00;
        color: #111;
        padding: 10px 15px;
        border-radius: 12px;
        font-weight: bold;
        z-index: 9999;
        box-shadow: 2px 2px 8px black;
        cursor: pointer;
        transition: 0.3s;
    }

    #endBtn:hover {
        transform: scale(1.05);
        box-shadow: 0 0 15px #ffdd00;
    }

</style>
</head>
<body>

<div id="author">Xamroyev Abror</div>

<h1>üéÆ Cheksiz Variantli O‚Äòyin</h1>

<!-- Start Screen -->
<div id="startScreen">
    <button onclick="showInfo()">Ma‚Äôlumot</button>
    <button onclick="startGame()">Boshlash</button>
</div>

<!-- Info Screen -->
<div id="infoText" style="display:none;">
    Men Xamroyev Abror tomonidan tuzilgan o‚Äòyin.<br>
    Men sizlarga savol beraman, siz javobni topishga harakat qilasizlar.<br><br>
    <button onclick="hideInfo()">Orqaga</button>
</div>

<!-- Question Screen -->
<div id="questionScreen" style="display:none;">
    <div id="endBtn" onclick="endGame()">O‚Äòyinni tugatish</div>
    <h1 id="question">Savol yuklanmoqda...</h1>
    <div id="options"></div>
    <p id="result"></p>
    <p id="stats"></p>
</div>

<audio id="winSound" src="win.mp3"></audio>
<audio id="failSound" src="fail.mp3"></audio>

<script>
// Savollar massivi
const questions = [
    {q: "O‚Äòzbekiston poytaxti qaysi?", options: ["Samarqand","Toshkent","Buxoro"], answer:1},
    {q: "Python dasturlash tili qaysi yil yaratilgan?", options:["1991","2000","1985"], answer:0},
    {q: "HTML nima uchun ishlatiladi?", options:["Web sahifa yaratish","Musika tinglash","Video o‚Äòynash"], answer:0},
    {q: "JavaScript qayerda ishlaydi?", options:["Brauzer","Muzey","Kompyuter qotadi"], answer:0},
    {q: "Yer qaysi sayyoraga tegishli?", options:["Mars","Yer","Jupiter"], answer:1}
];

// Statistika
let total=0, correct=0, wrong=0;
let currentQuestion;

// Tugmalar funksiyalari
function showInfo() {
    document.getElementById("startScreen").style.display = "none";
    document.getElementById("infoText").style.display = "block";
}

function hideInfo() {
    document.getElementById("infoText").style.display = "none";
    document.getElementById("startScreen").style.display = "block";
}

function startGame() {
    total=0; correct=0; wrong=0;
    document.getElementById("startScreen").style.display="none";
    document.getElementById("questionScreen").style.display="block";
    document.getElementById("stats").innerText="";
    nextQuestion();
}

// Dinamik savollar
function nextQuestion() {
    currentQuestion = questions[Math.floor(Math.random()*questions.length)];
    document.getElementById("question").innerText = currentQuestion.q;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    currentQuestion.options.forEach((opt,index)=>{
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.setAttribute("data-index",index);
        btn.onclick = checkAnswer;
        optionsDiv.appendChild(btn);
    });

    document.getElementById("result").innerText="";
    document.body.style.background = "linear-gradient(135deg, #0f2027, #203a43, #2c5364)";
}

// Javobni tekshirish
function checkAnswer(e){
    const index = Number(e.target.getAttribute("data-index"));
    total++;
    if(index===currentQuestion.answer){
        document.getElementById("result").innerText="üéâ To‚Äòg‚Äòri javob!";
        document.getElementById("winSound").play();
        document.body.style.background="linear-gradient(135deg,#11998e,#38ef7d)";
        correct++;
    } else{
        document.getElementById("result").innerText=`‚ùå Xato. To‚Äòg‚Äòri javob: ${currentQuestion.options[currentQuestion.answer]}`;
        document.getElementById("failSound").play();
        document.body.style.background="linear-gradient(135deg,#f00000,#dc281e)";
        wrong++;
    }
    document.getElementById("stats").innerText=`Savollar: ${total} | To‚Äòg‚Äòri: ${correct} | Xato: ${wrong} | Foiz: ${((correct/total)*100).toFixed(1)}%`;
    setTimeout(nextQuestion,2000);
}

// O‚Äòyinni tugatish
function endGame(){
    alert(`O‚Äòyin tugadi!\nJami savollar: ${total}\nTo‚Äòg‚Äòri javoblar: ${correct}\nXato javoblar: ${wrong}\nFoiz: ${((correct/total)*100).toFixed(1)}%`);
    document.getElementById("questionScreen").style.display="none";
    document.getElementById("startScreen").style.display="block";
}
</script>
let currentQuestion;
let lastQuestionIndex = -1;
function nextQuestion() {
    let randomIndex;

    do {
        randomIndex = Math.floor(Math.random() * questions.length);
    } while (randomIndex === lastQuestionIndex);

    lastQuestionIndex = randomIndex;
    currentQuestion = questions[randomIndex];

    document.getElementById("question").innerText = currentQuestion.q;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    currentQuestion.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.setAttribute("data-index", index);
        btn.onclick = checkAnswer;
        optionsDiv.appendChild(btn);
    });

    document.getElementById("result").innerText = "";
    document.body.style.background =
        "linear-gradient(135deg, #0f2027, #203a43, #2c5364)";
}

</body>
</html>
