<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>Abror Quiz Game</title>
<style>
body{
  margin:0;font-family:Arial;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;text-align:center
}
.container{max-width:600px;margin:auto;padding:20px}
button{
  width:100%;padding:14px;margin:8px 0;
  font-size:18px;border:none;border-radius:10px;
  background:#00c6ff;cursor:pointer
}
button:hover{background:#00f2fe}
.hidden{display:none}
.top{display:flex;justify-content:space-between}
</style>
</head>
<body>

<div class="container">

<div id="menu">
  <h1>ğŸ® Quiz Game</h1>
  <button onclick="start('math')">ğŸ“ Matematika</button>
  <button onclick="start('history')">ğŸ“œ Tarix</button>
  <button onclick="start('psy')">ğŸ§  Psixologiya</button>
  <button onclick="start('lang')">ğŸ“š Ona tili</button>
</div>

<div id="game" class="hidden">
  <div class="top">
    <div id="score">0/0</div>
    <button onclick="finish()">âŒ Tugatish</button>
  </div>
  <h2 id="question"></h2>
  <div id="options"></div>
</div>

</div>

<script>
// ===== 10 000 SAVOL GENERATORI =====
function genMath(n){
  const arr=[];
  for(let i=1;i<=n;i++){
    const a=i%50+1, b=(i*3)%50+1;
    const correct=a+b;
    arr.push({
      q:`${a} + ${b} = ?`,
      options:[correct-1, correct, correct+1],
      a:1
    });
  }
  return arr;
}

function genHistory(n){
  const arr=[];
  for(let i=1;i<=n;i++){
    arr.push({
      q:`Oâ€˜zbekiston mustaqilligi nechanchi yil? (variant ${i})`,
      options:["1991","1989","1993"],
      a:0
    });
  }
  return arr;
}

function genPsy(n){
  const arr=[];
  for(let i=1;i<=n;i++){
    arr.push({
      q:`Stress nima? (savol ${i})`,
      options:["Bosim","Uyqu","Kasallik"],
      a:0
    });
  }
  return arr;
}

function genLang(n){
  const arr=[];
  for(let i=1;i<=n;i++){
    arr.push({
      q:`Ot soâ€˜z turkumi nimani bildiradi? (${i})`,
      options:["Narsa","Harakat","Belgi"],
      a:0
    });
  }
  return arr;
}

// 10 000 TA SAVOL
const allQuestions={
  math: genMath(10000),
  history: genHistory(10000),
  psy: genPsy(10000),
  lang: genLang(10000)
};

let current=[], idx=0, correct=0, total=0;

function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
}

function start(type){
  current=[...allQuestions[type]];
  shuffle(current);
  idx=0; correct=0; total=0;
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  nextQ();
}

function nextQ(){
  if(idx>=current.length){ shuffle(current); idx=0; }
  const q=current[idx++];
  document.getElementById("question").innerText=q.q;
  const o=document.getElementById("options");
  o.innerHTML="";
  q.options.forEach((x,i)=>{
    const b=document.createElement("button");
    b.innerText=x;
    b.onclick=()=>check(i,q.a);
    o.appendChild(b);
  });
}

function check(i,a){
  total++; if(i===a) correct++;
  document.getElementById("score").innerText=`${correct}/${total}`;
  nextQ();
}

function finish(){
  alert(`Natija: ${correct}/${total} (${Math.round(correct*100/total)}%)`);
  location.reload();
}
</script>
</body>
</html>
