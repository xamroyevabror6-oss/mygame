<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>8â€“11 sinf Quiz | Abror</title>
<style>
body{
  margin:0;
  font-family:Arial;
  background:linear-gradient(135deg,#141e30,#243b55);
  color:white;
  text-align:center;
}
.container{
  max-width:700px;
  margin:auto;
  padding:20px;
}
button{
  width:100%;
  padding:14px;
  margin:8px 0;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#00c6ff;
  cursor:pointer;
}
button:hover{background:#00f2fe}
.hidden{display:none}
.top{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
}
</style>
</head>

<body>
<div class="container">

<!-- MENU -->
<div id="menu">
  <h1>ğŸ“ 8â€“11 sinf Quiz</h1>
  <button onclick="start('math')">ğŸ“ Matematika</button>
  <button onclick="start('history')">ğŸ“œ Tarix</button>
  <button onclick="start('psy')">ğŸ§  Psixologiya</button>
  <button onclick="start('lang')">ğŸ“š Ona tili</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
  <div class="top">
    <div id="score">0 / 0</div>
    <button onclick="finish()">âŒ Tugatish</button>
  </div>
  <h2 id="question">Savol</h2>
  <div id="options"></div>
</div>

</div>

<script>
// ===================
// SAVOLLAR (8â€“11 SINF)
// ===================

// MATEMATIKA
const mathQ = [];
for(let i=1;i<=200;i++){
  let a=i%20+5;
  let b=(i*7)%15+3;
  let correct=a*b;
  let pos=i%3; // 0=A, 1=B, 2=C

  let opts=[];
  if(pos===0) opts=[correct, correct+2, correct-1];
  if(pos===1) opts=[correct-3, correct, correct+1];
  if(pos===2) opts=[correct+4, correct-2, correct];

  mathQ.push({
    q:`${a} Ã— ${b} = ?`,
    options:opts,
    a:pos
  });
}

// TARIX
const historyQ = [];
for(let i=1;i<=200;i++){
  let pos=i%3;
  let opts=[
    "1991-yil",
    "1989-yil",
    "1993-yil"
  ];
  historyQ.push({
    q:`Oâ€˜zbekiston mustaqillikka erishgan yil qaysi? (savol ${i})`,
    options:opts,
    a:pos===0?0:pos===1?1:0
  });
}

// PSIXOLOGIYA
const psyQ = [];
for(let i=1;i<=200;i++){
  let pos=i%3;
  let opts=["Stress","Xotira","Temperament"];
  psyQ.push({
    q:`Psixologiyada â€œstressâ€ nimani anglatadi? (savol ${i})`,
    options:opts,
    a:0
  });
}

// ONA TILI
const langQ = [];
for(let i=1;i<=200;i++){
  let pos=i%3;
  let opts=["Narsa nomi","Harakat","Belgi"];
  langQ.push({
    q:`Ot soâ€˜z turkumi nimani bildiradi? (savol ${i})`,
    options:opts,
    a:0
  });
}

// ===================
// Oâ€˜YIN LOGIKASI
// ===================
let current=[];
let idx=0;
let correct=0;
let total=0;

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
}

function start(type){
  if(type==="math") current=[...mathQ];
  if(type==="history") current=[...historyQ];
  if(type==="psy") current=[...psyQ];
  if(type==="lang") current=[...langQ];

  shuffle(current);
  idx=0;
  correct=0;
  total=0;

  document.getElementById("menu").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");

  nextQ();
}

function nextQ(){
  if(idx>=current.length){
    alert(`Savollar tugadi!\nNatija: ${correct}/${total} (${Math.round(correct*100/total)}%)`);
    location.reload();
    return;
  }

  const q=current[idx++];
  document.getElementById("question").innerText=q.q;

  const o=document.getElementById("options");
  o.innerHTML="";
  q.options.forEach((x,i)=>{
    const b=document.createElement("button");
    b.innerText=x;
    b.onclick=()=>check(i,q.a);
    o.appendChild(b);
  });
}

function check(i,a){
  total++;
  if(i===a) correct++;
  document.getElementById("score").innerText=`${correct} / ${total}`;
  nextQ();
}

function finish(){
  alert(`Natija: ${correct}/${total} (${Math.round(correct*100/total)}%)`);
  location.reload();
}
</script>
const mathQ = [];

for(let i=1;i<=200;i++){
  let type = i % 4;
  let a,b,question,correct,options,ans;

  if(type === 0){
    a = i%30 + 5;
    b = i%20 + 3;
    question = `${a} + ${b} = ?`;
    correct = a + b;
  }
  else if(type === 1){
    a = i%25 + 6;
    b = i%10 + 2;
    question = `${a} Ã— ${b} = ?`;
    correct = a * b;
  }
  else if(type === 2){
    a = (i%15 + 3);
    question = `${a}Â² = ?`;
    correct = a * a;
  }
  else{
    a = i%40 + 10;
    question = `${a} : 2 = ?`;
    correct = a / 2;
  }

  ans = i % 3;
  if(ans === 0) options = [correct, correct+2, correct-1];
  if(ans === 1) options = [correct-3, correct, correct+1];
  if(ans === 2) options = [correct+4, correct-2, correct];

  mathQ.push({ q: question, options: options, a: ans });
}
const historyQ = [];

const historyTemplates = [
  {
    q: "Oâ€˜zbekiston mustaqillikka qachon erishgan?",
    options: ["1991-yil","1989-yil","1993-yil"],
    a: 0
  },
  {
    q: "Amir Temur qaysi asrda yashagan?",
    options: ["XIV asr","XVI asr","XVII asr"],
    a: 0
  },
  {
    q: "Buyuk Ipak yoâ€˜li nima boâ€˜lgan?",
    options: ["Savdo yoâ€˜li","Harbiy yoâ€˜l","Daryo"],
    a: 0
  }
];

for(let i=0;i<200;i++){
  let t = historyTemplates[i % historyTemplates.length];
  let ans = (t.a + i) % 3; // javob joyi almashadi

  let opts = [...t.options];
  let correct = opts[t.a];

  // javobni joyini oâ€˜zgartirish
  opts.splice(t.a,1);
  opts.splice(ans,0,correct);

  historyQ.push({
    q: t.q,
    options: opts,
    a: ans
  });
}
const psyQ = [];

const psyTemplates = [
  {
    q: "Stress nimani anglatadi?",
    options: ["Ruhiy bosim","Xotira","Temperament"],
    a: 0
  },
  {
    q: "Temperament nima?",
    options: ["Xulq turi","Kasallik","Xotira"],
    a: 0
  },
  {
    q: "Xotira qaysi jarayon?",
    options: ["Psixik","Jismoniy","Mexanik"],
    a: 0
  }
];

for(let i=0;i<200;i++){
  let t = psyTemplates[i % psyTemplates.length];
  let ans = (i + 1) % 3;

  let opts = [...t.options];
  let correct = opts[t.a];
  opts.splice(t.a,1);
  opts.splice(ans,0,correct);

  psyQ.push({
    q: t.q,
    options: opts,
    a: ans
  });
}
const langQ = [];

const langTemplates = [
  {
    q: "Ot soâ€˜z turkumi nimani bildiradi?",
    options: ["Narsa nomi","Harakat","Belgi"],
    a: 0
  },
  {
    q: "Sifat nimani bildiradi?",
    options: ["Belgi","Narsa","Harakat"],
    a: 0
  },
  {
    q: "Feâ€™l nimani bildiradi?",
    options: ["Harakat","Belgi","Narsa"],
    a: 0
  }
];

for(let i=0;i<200;i++){
  let t = langTemplates[i % langTemplates.length];
  let ans = i % 3;

  let opts = [...t.options];
  let correct = opts[t.a];
  opts.splice(t.a,1);
  opts.splice(ans,0,correct);

  langQ.push({
    q: t.q,
    options: opts,
    a: ans
  });
}

</body>
</html>
