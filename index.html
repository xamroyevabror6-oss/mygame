<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test O‘yini - Matematika & Geografiya</title>
<style>
body { font-family:Arial,sans-serif; margin:0; padding:0; background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); color:#fff; display:flex; flex-direction:column; align-items:center; min-height:100vh;}
h1 { margin-top:60px; font-size:2.5rem; color:#ffdd00; text-shadow:2px 2px 8px #000; text-align:center;}
#menu, #game { width:90%; max-width:600px; text-align:center; margin-top:20px;}
button { padding:14px; margin:8px 0; width:100%; font-size:1.1rem; border:none; border-radius:12px; cursor:pointer; transition:0.3s; box-shadow:0 6px 10px rgba(0,0,0,0.5);}
button:hover { transform: scale(1.05); background:#ffdd00; color:#000; }
.option { background:#fff; color:#000; font-weight:bold; margin-top:10px;}
#top { display:flex; justify-content:space-between; padding:10px 20px; font-size:1rem; background:#222; position:sticky; top:0; border-radius:10px;}
#footer { position:fixed; bottom:0; right:0; padding:8px; font-size:14px; color:#ccc;}
#header { position:fixed; top:0; left:0; padding:8px; font-size:14px; color:#ccc;}
#q { margin:40px 0 20px 0; font-size:1.4rem; min-height:80px; background: rgba(0,0,0,0.5); padding:15px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.5); line-height:1.4;}
</style>
</head>
<body>

<div id="header">Xamroyev Abror</div>
<div id="footer">Xalilova Shohida</div>

<h1>Test O‘yini</h1>
<p style="text-align:center;">Matematika & Geografiya (100 savol)</p>

<div id="menu">
<button onclick="startGame('math')">Matematika</button>
<button onclick="startGame('geo')">Geografiya</button>
</div>

<div id="game" style="display:none">
<div id="top">
<span id="count">0/0</span>
<button onclick="finish()">Tugatish</button>
</div>
<div id="q"></div>
<div id="o"></div>
</div>

<script>
// ==== 100 TA MATEMATIKA SAVOL ====
const mathQ=[];
for(let i=1;i<=100;i++){
  let a=Math.floor(Math.random()*50)+1;
  let b=Math.floor(Math.random()*50)+1;
  let op=i%4,question,correct;
  if(op===0){question=`${a}+${b}=?`;correct=a+b;}
  else if(op===1){question=`${a}-${b}=?`;correct=a-b;}
  else if(op===2){question=`${a}×${b}=?`;correct=a*b;}
  else{question=`${a*b}÷${a}=?`;correct=b;}
  let ans=i%3;
  let options=[];
  for(let j=0;j<3;j++){
    if(j===ans) options.push(correct.toString());
    else options.push((correct+Math.floor(Math.random()*5+1)*(j+1)).toString());
  }
  mathQ.push({q:question,o:options,a:ans});
}

// ==== 100 TA GEOGRAFIYA SAVOL ====
const geoQ=[];
const geoQuestionsList = [
  "O‘zbekiston poytaxti qayer?",
  "Amazon daryosi qaysi qit’ada joylashgan?",
  "Sahara cho‘li qaysi qit’ada?",
  "Evropa va Osiyo o‘rtasidagi tog‘lar?",
  "Nyu-York qaysi davlatda joylashgan?",
  "Nil daryosi qaysi qit’ada?",
  "Mount Everest qayerda joylashgan?",
  "Qaysi dengiz Tuzli dengiz bilan chegaradosh?",
  "Qaysi okean eng katta?",
  "Kanada poytaxti qayer?"
];
for(let i=0;i<100;i++){
  let qText = geoQuestionsList[i % geoQuestionsList.length] + ` (#${i+1})`;
  let correctIndex = i%3;
  let options = [];
  for(let j=0;j<3;j++){
    if(j===correctIndex) options.push("Variant " + String.fromCharCode(65 + j));
    else options.push("Variant " + String.fromCharCode(65 + ((j+correctIndex+1)%3)));
  }
  geoQ.push({q:qText,o:options,a:correctIndex});
}

// ==== BO‘LIMLAR DATA ====
const data={math:mathQ,geo:geoQ};
let questions=[],correct=0,totalAnswered=0;

function startGame(type){
  questions=[...data[type]];
  questions.sort(()=>Math.random()-0.5); // tasodifiy tartib
  correct=0; totalAnswered=0;
  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="block";
  next();
}

function next(){
  if(questions.length===0){finish();return;}
  const q=questions.shift();
  document.getElementById("q").innerText=q.q;
  document.getElementById("count").innerText=(totalAnswered+1)+"/100";
  const box=document.getElementById("o");
  box.innerHTML="";
  q.o.forEach((t,i)=>{
    const b=document.createElement("button");
    b.className="option";
    b.innerText=t;
    b.onclick=()=>{
      if(i===q.a) correct++;
      totalAnswered++;
      next();
    };
    box.appendChild(b);
  });
}

function finish(){
  alert(
    "Test tugadi!\n"+
    "To‘g‘ri javoblar: "+correct+"\n"+
    "Xato javoblar: "+(100-correct)+"\n"+
    "Foiz: "+Math.round(correct)+"%"
  );
  location.reload();
}
</script>

</body>
</html>
