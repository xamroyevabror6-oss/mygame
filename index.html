<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>Abror Quiz Game</title>
<style>
body{
    margin:0;
    font-family:Arial;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    text-align:center;
}
.container{
    max-width:600px;
    margin:auto;
    padding:20px;
}
button{
    padding:12px 20px;
    margin:10px;
    font-size:18px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    background:#00c6ff;
    color:black;
}
button:hover{background:#00f2fe}
.option{
    display:block;
    width:100%;
}
.top{
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.hidden{display:none}
</style>
</head>

<body>

<div class="container">

<div class="top hidden" id="topBar">
    <div id="score">0/0</div>
    <button onclick="finishGame()">‚ùå Tugatish</button>
</div>

<!-- MENU -->
<div id="menu">
    <h1>üéÆ Quiz Game</h1>
    <button onclick="showCategories()">‚ñ∂ Boshlash</button>
    <button onclick="showInfo()">‚Ñπ Ma'lumot</button>
</div>

<!-- INFO -->
<div id="info" class="hidden">
    <h2>Ma'lumot</h2>
    <p>
    Bu o‚Äòyin Xamroyev Abror tomonidan tuzilgan.  
    O‚Äòyin sizga turli fanlardan savollar beradi.  
    To‚Äòg‚Äòri javob topishga harakat qiling!
    </p>
    <button onclick="backMenu()">‚¨Ö Orqaga</button>
</div>

<!-- CATEGORY -->
<div id="category" class="hidden">
    <h2>Bo‚Äòlimni tanlang</h2>
    <button onclick="startGame(mathQ)">üìê Matematika</button>
    <button onclick="startGame(historyQ)">üìú Tarix</button>
    <button onclick="startGame(psyQ)">üß† Psixologiya</button>
    <button onclick="startGame(langQ)">üìö Ona tili</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
    <h2 id="question"></h2>
    <div id="options"></div>
</div>

</div>

<script>
// ===== SAVOLLAR =====
const mathQ = [
 {q:"8√ó7=?", options:["54","56","64"], a:1},
 {q:"144 ning ildizi?", options:["10","11","12"], a:2},
 {q:"3¬≤ + 4¬≤ = ?", options:["25","14","21"], a:0}
];

const historyQ = [
 {q:"Amir Temur qachon tug‚Äòilgan?", options:["1336","1405","1299"], a:0},
 {q:"O‚Äòzbekiston qachon mustaqil bo‚Äòlgan?", options:["1991","1989","1993"], a:0},
 {q:"Buyuk Ipak yo‚Äòli nima?", options:["Yo‚Äòl","Savdo yo‚Äòli","Daryo"], a:1}
];

const psyQ = [
 {q:"Mantiq nimaga asoslanadi?", options:["Hissiyot","Fikr","Tasodif"], a:1},
 {q:"Stress nima?", options:["Kasallik","Bosim","Uyqu"], a:1},
 {q:"Xotira qaysi jarayon?", options:["Psixik","Jismoniy","Mexanik"], a:0}
];

const langQ = [
 {q:"Ot so‚Äòz turkumi?", options:["Narsa","Harakat","Belgi"], a:0},
 {q:"Sifat nimani bildiradi?", options:["Harakat","Belgi","Son"], a:1},
 {q:"Gapning oxiri?", options:[",",".",";"], a:1}
];

// ===== O‚ÄòYIN LOGIKASI =====
let questions=[], index=0, correct=0, total=0;

function shuffle(arr){
    return arr.sort(()=>Math.random()-0.5);
}

function startGame(q){
    questions=[...q];
    shuffle(questions);
    index=0; correct=0; total=0;
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("category").classList.add("hidden");
    document.getElementById("topBar").classList.remove("hidden");
    document.getElementById("game").classList.remove("hidden");
    nextQuestion();
}

function nextQuestion(){
    if(index>=questions.length){
        shuffle(questions);
        index=0;
    }
    const q=questions[index++];
    document.getElementById("question").innerText=q.q;
    const opt=document.getElementById("options");
    opt.innerHTML="";
    q.options.forEach((o,i)=>{
        const b=document.createElement("button");
        b.className="option";
        b.innerText=o;
        b.onclick=()=>check(i,q.a);
        opt.appendChild(b);
    });
}

function check(i,a){
    total++;
    if(i===a) correct++;
    document.getElementById("score").innerText=`${correct}/${total}`;
    nextQuestion();
}

function finishGame(){
    alert(`Natija: ${correct}/${total} (${Math.round(correct*100/total)}%)`);
    location.reload();
}

// ===== MENU =====
function showCategories(){
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("category").classList.remove("hidden");
}
function showInfo(){
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("info").classList.remove("hidden");
}
function backMenu(){
    document.getElementById("info").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
}
</script>

</body>
</html>
