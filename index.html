<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bilimlar Oâ€˜yini</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    text-align:center;
}
button{
    padding:15px;
    margin:10px;
    font-size:16px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    background:linear-gradient(135deg,#00ff99,#00ccff);
    font-weight:bold;
}
button:hover{transform:scale(1.05);}
#top{
    display:flex;
    justify-content:space-between;
    padding:10px;
}
.box{
    background:rgba(255,255,255,0.15);
    padding:8px 12px;
    border-radius:10px;
}
.hidden{display:none;}
</style>
</head>

<body>

<div id="top">
    <div class="box">Xamroyev Abror</div>
    <div class="box" onclick="backMenu()">â¬… Menyu</div>
</div>

<!-- START -->
<div id="start">
    <h1>ðŸŽ“ Bilimlar Oâ€˜yini</h1>
    <button onclick="openCategories()">Boshlash</button>
</div>

<!-- CATEGORIES -->
<div id="categories" class="hidden">
    <h2>ðŸ“š Boâ€˜limni tanlang</h2>
    <button onclick="startGame('math')">âž• Matematika</button>
    <button onclick="startGame('history')">ðŸ“œ Tarix</button>
    <button onclick="startGame('psy')">ðŸ§  Psixologiya</button>
    <button onclick="startGame('lang')">ðŸ“– Ona tili & Adabiyot</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
    <h2 id="question"></h2>
    <div id="options"></div>
    <p id="stats"></p>
</div>

<script>
let total=0, correct=0, wrong=0;
let currentType="";

// ===== MENU =====
function openCategories(){
    document.getElementById("start").classList.add("hidden");
    document.getElementById("categories").classList.remove("hidden");
}
function backMenu(){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("categories").classList.remove("hidden");
}

// ===== START GAME =====
function startGame(type){
    currentType = type;
    total=0; correct=0; wrong=0;
    document.getElementById("categories").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    nextQuestion();
}

// ===== QUESTION GENERATORS =====
function mathQuestion(){
    let a=Math.floor(Math.random()*50)+10;
    let b=Math.floor(Math.random()*50)+10;
    let ans=a*b;
    let opts=[ans, ans+5, ans-5].sort(()=>Math.random()-0.5);
    return {q:`${a} Ã— ${b} = ?`, options:opts, answer:opts.indexOf(ans)};
}

const historyQ=[
 {q:"Amir Temur qaysi yilda tugâ€˜ilgan?",options:["1336","1405","1501"],answer:0},
 {q:"Oâ€˜zbekiston qachon mustaqil boâ€˜lgan?",options:["1991","1989","1995"],answer:0}
];

function historyQuestion(){
    let q=historyQ[Math.floor(Math.random()*historyQ.length)];
    return q;
}

function psyQuestion(){
    let q=[
        "Qaysi biri mantiqan toâ€˜gâ€˜ri?",
        "Inson qaror qabul qilishda nimaga tayanadi?"
    ];
    let opts=[
        ["Hissiyot","Tasodif","Fikr"],["Mantiq","Uyqu","Shovqin"]
    ];
    let i=Math.floor(Math.random()*2);
    return {q:q[i], options:opts[i], answer:0};
}

const langQ=[
 {q:"Ot soâ€˜z turkumimi?",options:["Ha","Yoâ€˜q","Baâ€™zan"],answer:0},
 {q:"Alisher Navoiy qaysi asrda yashagan?",options:["XV","XVII","XIX"],answer:0}
];

function langQuestion(){
    return langQ[Math.floor(Math.random()*langQ.length)];
}

// ===== NEXT =====
function nextQuestion(){
    let q;
    if(currentType==="math") q=mathQuestion();
    if(currentType==="history") q=historyQuestion();
    if(currentType==="psy") q=psyQuestion();
    if(currentType==="lang") q=langQuestion();

    document.getElementById("question").innerText=q.q;
    let opt=document.getElementById("options");
    opt.innerHTML="";

    q.options.forEach((t,i)=>{
        let b=document.createElement("button");
        b.innerText=t;
        b.onclick=()=>check(i,q.answer);
        opt.appendChild(b);
    });
}

// ===== CHECK =====
function check(c,a){
    total++;
    if(c===a) correct++; else wrong++;
    document.getElementById("stats").innerText=
    `Savol: ${total} | Toâ€˜gâ€˜ri: ${correct} | Xato: ${wrong} | Foiz: ${Math.round(correct/total*100)}%`;
    setTimeout(nextQuestion,700);
}
</script>

</body>
</html>
