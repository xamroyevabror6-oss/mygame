<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Savol Javob O‚Äòyini</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    text-align:center;
}
button{
    padding:15px;
    margin:10px;
    font-size:16px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    background:#00ff99;
    font-weight:bold;
}
button:hover{transform:scale(1.05);}
#author{
    position:fixed;
    top:10px;
    right:10px;
    background:#00ff99;
    color:black;
    padding:8px 12px;
    border-radius:10px;
}
#endBtn{
    position:fixed;
    top:10px;
    left:10px;
    background:#ffdd00;
    color:black;
    padding:8px 12px;
    border-radius:10px;
    cursor:pointer;
}
</style>
</head>

<body>

<div id="author">Xamroyev Abror</div>

<!-- START MENU -->
<div id="menu">
    <h1>üéÆ Savol Javob O‚Äòyini</h1>
    <button onclick="showInfo()">Ma‚Äôlumot</button>
    <button onclick="startGame()">Boshlash</button>
</div>

<!-- INFO -->
<div id="info" style="display:none;">
    <p>
        Men Xamroyev Abror tomonidan tuzilgan o‚Äòyinman.<br>
        Men sizlarga savol beraman, siz javoblarni topasizlar.
    </p>
    <button onclick="backMenu()">Orqaga</button>
</div>

<!-- GAME -->
<div id="game" style="display:none;">
    <div id="endBtn" onclick="endGame()">O‚Äòyinni tugatish</div>
    <h2 id="question"></h2>
    <div id="options"></div>
    <p id="result"></p>
    <p id="stats"></p>
</div>

<script>
// ===== SAVOLLAR =====
const questions = [
 {q:"O‚Äòzbekiston poytaxti?", options:["Samarqand","Toshkent","Buxoro"], answer:1},
 {q:"HTML nima?", options:["Til","O‚Äòyin","Brauzer"], answer:0},
 {q:"JavaScript qayerda ishlaydi?", options:["Telefon","Brauzer","Printer"], answer:1},
 {q:"2 + 2 nechchi?", options:["3","4","5"], answer:1},
 {q:"Yer sayyorami?", options:["Ha","Yo‚Äòq","Bilmayman"], answer:0}
];

// ===== GLOBAL =====
let shuffled = [];
let index = 0;
let total = 0;
let correct = 0;
let wrong = 0;

// ===== SHUFFLE =====
function shuffle(){
    shuffled = [...questions];
    for(let i = shuffled.length-1; i>0; i--){
        let j = Math.floor(Math.random()*(i+1));
        [shuffled[i],shuffled[j]] = [shuffled[j],shuffled[i]];
    }
    index = 0;
}

// ===== MENU =====
function showInfo(){
    document.getElementById("menu").style.display="none";
    document.getElementById("info").style.display="block";
}
function backMenu(){
    document.getElementById("info").style.display="none";
    document.getElementById("menu").style.display="block";
}

// ===== START =====
function startGame(){
    total=0; correct=0; wrong=0;
    shuffle();
    document.getElementById("menu").style.display="none";
    document.getElementById("game").style.display="block";
    nextQuestion();
}

// ===== NEXT QUESTION =====
function nextQuestion(){
    if(index >= shuffled.length){
        alert("üéâ Barcha savollar tugadi! Yangi bosqich boshlandi.");
        shuffle();
    }

    let q = shuffled[index];
    index++;

    document.getElementById("question").innerText = q.q;
    const opt = document.getElementById("options");
    opt.innerHTML = "";

    q.options.forEach((text,i)=>{
        let b = document.createElement("button");
        b.innerText = text;
        b.onclick = ()=>checkAnswer(i,q.answer);
        opt.appendChild(b);
    });
}

// ===== CHECK =====
function checkAnswer(choice,answer){
    total++;
    if(choice === answer){
        correct++;
        document.getElementById("result").innerText="‚úÖ To‚Äòg‚Äòri!";
    }else{
        wrong++;
        document.getElementById("result").innerText="‚ùå Xato!";
    }

    document.getElementById("stats").innerText =
    `Savol: ${total} | To‚Äòg‚Äòri: ${correct} | Xato: ${wrong} | Foiz: ${Math.round(correct/total*100)}%`;

    setTimeout(nextQuestion,1000);
}

// ===== END =====
function endGame(){
    alert(`Natija:
Savollar: ${total}
To‚Äòg‚Äòri: ${correct}
Xato: ${wrong}
Foiz: ${Math.round(correct/total*100)}%`);

    document.getElementById("game").style.display="none";
    document.getElementById("menu").style.display="block";
}
</script>

</body>
</html>
